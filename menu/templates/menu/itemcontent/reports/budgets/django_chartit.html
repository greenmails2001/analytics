<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}

<title>
       report detail
</title>
<head>
    <!-- code to include the highcharts and jQuery libraries goes here -->
    <!-- load_charts filter takes a comma-separated list of id's where -->
    <!-- the charts need to be rendered to                             -->


    <script src="{% static "js/jquery.min.js" %}"></script>
    <script src="http://code.highcharts.com/highcharts.js" type="text/javascript"></script>
    <link href="{% static "css/base.css" %}" rel="stylesheet">
    {# hightcharts tự tạo js, phù hợp với những report đơn giản, nhưng khó control với report phức tạp #}
    {#% load chartit %#}
    {# { weatherchart|load_charts:"container" } #}
</head>
<body>
    <!-- Search box Start -->
    <form name="classic">
        <select name="sites" class="sites" size="6"  style="width: 150px">
            <option selected>Select A Site</option>
            {% for s in sites %}
                <option value="{{ s.siteid }}">{{ s.sitename }}</option>
            {% endfor %}
        </select>

        <select name="tasks" class="tasks" size="6"  style="width: 350px">
            <option selected>Select A Task</option>
            {% for t in tasks %}
                <option value="{{ t.taskid }}">{{ t.taskid }}. {{ t.shortname }}</option>
            {% endfor %}
        </select>
        </select>
    </form>
    <div class="btn-group">
        <button type="button" id="btnSearch" class="btn btn-primary">Search</button>
    </div>

    <!--/form-->
    <!-- Search box End -->

    <div id='container'> Chart will be rendered here </div>
</body>

<script>
    //demo highchart với js
    $(function () {
        $('#container').highcharts({
            chart: {
            type: 'bar'
            },
            title: {
            text: 'Monthly Sales'
            },
            xAxis: {
            categories: ['Jan', 'Feb', 'Mar','Apr']
            },
            yAxis: {
            title: {
            text: 'numbers'
            }
            },
            series: [{
            name: 'John',
            data: [1, 10, 4,6]
            }, {
            name: 'King',
            data: [5, 7, 3,6]
            }]
        });
    });
</script>


<script type="text/javascript">


    $(".sites").click(function(){
        //var selText = $(this).text();
        resultSite=this.options[this.options.selectedIndex].value;
        //alert(resultSite);
    });
    $(".tasks").click(function(){
        //var selText = $(this).text();
        //alert(selText);
        resultTask=this.options[this.options.selectedIndex].value;
        //alert(resultTask);
    });

    $("#btnSearch").click(function(){
        alert(resultSite.concat(resultTask));
    });

</script>

</html>
